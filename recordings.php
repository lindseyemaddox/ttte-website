<?php require_once($_SERVER['DOCUMENT_ROOT'].'/_assets/inc/head.php'); // HTTP head?>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script src="/_assets/js/isotope.jquery.min.js"></script>
<script src="/_assets/js/fancybox.jquery.js"></script>
<?php require_once($_SERVER['DOCUMENT_ROOT'].'/_assets/inc/navigation.php'); //navigation?>

<section id="mast">
	
	<img src="/_assets/img/header-recordings.jpg" alt="interior shot of tuba studio office" title="listening station in R. Winston Morris' office">

</section><!--mast-->

<section id="main" class="recordings">

	<div class="inner">
	
		<h1>Recordings</h1>
		
      <div id="slider-cont">

          <div id="options" class="clearfix">

            <ul id="filters" class="option-set clearfix" data-option-key="filter">
                <li><a href="#filter" data-option-value=".y1975">1975</a></li>
                <li><a href="#filter" data-option-value=".y1976">1976</a></li>
                <li><a href="#filter" data-option-value=".y1977">1977</a></li>
                <li><a href="#filter" data-option-value=".y1978">1978</a></li>
                <li><a href="#filter" data-option-value=".y1979">1979</a></li>
                <li><a href="#filter" data-option-value=".y1980">1980</a></li>
                <li><a href="#filter" data-option-value=".y1981">1981</a></li>
                <li><a href="#filter" data-option-value=".y1982">1982</a></li>
                <li><a href="#filter" data-option-value=".y1983">1983</a></li>
                <li><a href="#filter" data-option-value=".y1984">1984</a></li>
                <li><a href="#filter" data-option-value=".y1985">1985</a></li>
                <li><a href="#filter" data-option-value=".y1986">1986</a></li>
                <li><a href="#filter" data-option-value=".y1987">1987</a></li>
                <li><a href="#filter" data-option-value=".y1988">1988</a></li>
                <li><a href="#filter" data-option-value=".y1989">1989</a></li>
                <li><a href="#filter" data-option-value=".y1990">1990</a></li>
                <li><a href="#filter" data-option-value=".y1991">1991</a></li>
                <li><a href="#filter" data-option-value=".y1992">1992</a></li>
                <li><a href="#filter" data-option-value=".y1993">1993</a></li>
                <li><a href="#filter" data-option-value=".y1994">1994</a></li>
                <li><a href="#filter" data-option-value=".y1995">1995</a></li>
                <li><a href="#filter" data-option-value=".y1996">1996</a></li>
                <li><a href="#filter" data-option-value=".y1997">1997</a></li>
                <li><a href="#filter" data-option-value=".y1998">1998</a></li>
                <li><a href="#filter" data-option-value=".y1999">1999</a></li>
                <li><a href="#filter" data-option-value=".y2000">2000</a></li>
                <li><a href="#filter" data-option-value=".y2001">2001</a></li>
                <li><a href="#filter" data-option-value=".y2002">2002</a></li>
                <li><a href="#filter" data-option-value=".y2003">2003</a></li>
                <li><a href="#filter" data-option-value=".y2004">2004</a></li>
                <li><a href="#filter" data-option-value=".y2005">2005</a></li>
                <li><a href="#filter" data-option-value=".y2006">2006</a></li>
                <li><a href="#filter" data-option-value=".y2007">2007</a></li>
                <li><a href="#filter" data-option-value=".y2008">2008</a></li>
                <li><a href="#filter" data-option-value=".y2009">2009</a></li>
                <li><a href="#filter" data-option-value=".y2010">2010</a></li>
                <li><a href="#filter" data-option-value=".y2011">2011</a></li>
                <li><a href="#filter" data-option-value=".y2012">2012</a></li>
                <li><a href="#filter" data-option-value=".y2013">2013</a></li>
                <li><a href="#filter" data-option-value=".y2014">2014</a></li>
                <li><a href="#filter" data-option-value=".y2015">2015</a></li>
            </ul>

          </div><!--options-->

          <div class="slider-row">

            <h4>1975</h4>

            <div class="slider"></div>

            <h4>2015</h4>

          </div><!--slider-row-->

          <div class="clearfix"></div>

      </div><!--slider-cont-->

		<div class="wrapper">

		    <div class="main">

		        <div class="container">
			
			    	  <aside class="sorter">
			    		
			      		<div id="sidebar-options" class="clearfix">

			        		<ul id="sidebar-filters" class="option-set clearfix" data-option-key="filter">
			          			<li><a href="#filter" data-option-value="*" class="selected">show all</a></li>
			          			<li><a href="#filter" data-sort-by="date">Ascending</a></li>
			          			<li><a href="#filter" data-sort-by="original-order">Descending</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".available">Available for Purchase</a></li>
			          			<li class="heading">Recordings</li>
                      <li><a class="recording" href="#filter" data-option-value=".ttte">Tennessee Tech Tuba Ensemble</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".ttute">Tennessee Technological University Tuba Ensemble</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".carnegie1">Tenn Tech Tuba Ensemble Presents Their Carnegie Recital Hall Program</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".golden">The Golden Sound of Euphoniums</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".tttute">The Tennessee Technological University Tuba Ensemble</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".live">LIVE!!! The Tennessee Technological University Tuba Ensemble</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".spears">The Music of Jared Spears Volume XIV</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".jazz">Tennessee Tech Tuba Ensemble and "All That Jazz"</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".metal">Tennessee Tech Tuba Ensemble presents Heavy Metal</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".menc">Fifty-First Meeting of the Music Educators National Conference</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".beast">Unleash the Beast!!! "Not for the Faint of Heart!!!"</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".tubalogy">Tubalogy 601</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".garbage">Pierre Garb√°ge Festival, A Tribute To The Music of James Allen Garrett</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".kings">For the Kings of Brass</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".carnegie">CARNEGIE VI</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".funky">Play That Funky Tuba Right, Boy!</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".ludwig">LUDWIG DOES TUBA...</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".unlimited">Euphoniums Unlimited: Music for Euphonium Choir</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".phat">Phat Bottom Tubas: another program of jazz, funk, pop and drool!</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".vintage2">Tennessee Tech Tuba Ensemble presents VINTAGE - Reissuing the first two complete LP recordings by the TTTE.</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".jazz4">TENNESSEE TECH TUBA ENSEMBLE and ALL THAT JAZZ - Reissue of 4 early LPs</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".metal3">TENNESSEE TECH TUBA ENSEMBLE presents HEAVY METAL - Reissue of 3 early LPs</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".legacy">LEGACY</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".zeraim">Zeraim: seeds: The Music of Leroy Osmon, Vol. IV, Chamber Works</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".christmas">Christmas Tubas</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".magic">The Tubas Unlimited MAGIC TUBAS</a></li>
                      <li><a class="recording" href="#filter" data-option-value=".evolutions">EVOLUTIONS (Carnegie VIII)</a></li>
      							</ul>

						      </div><!--sidebar-options-->

			    	  </aside>

			    	  <div id="recordings" class="clearfix">

                    <?php
                      // make database connection
                      // depends on what database you are using. This is for mysqli

                      // change these to what yours are
                      $dbSettings = array(
                        'db_name'  => 'ttte',
                        'hostname' => 'localhost',
                        'user'     => 'root',
                        'password' => 'aza1ea99',
                      );

                      // setup connection
                      $dbConn = mysqli_connect($dbSettings['hostname'], $dbSettings['user'], $dbSettings['password'], $dbSettings['db_name']);

                      //make the query, change table_name to the table you need to get data from
                      $mysql_query = "SELECT * FROM recordings";

                      // get the results
                      $result = mysqli_query($dbConn, $mysql_query) or die("Error: " . mysqli_error($dbConn));

                      while ($record = mysqli_fetch_assoc($result))
                      {
                        // this stuff all depends on how your database and data is setup
                        // this is a basic example
                        // you may need to use conditional code as well.

                    ?>
                    <article class="recording <?= $member['short-name']; ?> <?= $record['date-released-y']; ?> <?= $record['available']; ?> <?= $record['short-name']; ?>">
                      <img src="_assets/img/recording-<?= $record['short-name']; ?>.jpg">
                      <a href="/recording/<?= $record['short-name'].'.php';?>"  class="btn fancybox fancybox.iframe">Read More</a>
                    </article>
                    <?php
                      } //endwhile
                    ?>

				      </div><!--recordings-->

		    	</div><!--container-->

		    </div><!--main-->

	   </div><!--wrapper-->

	</div><!--inner-->

</section><!--main-->

<script>

    $(function(){

      var $container = $('#recordings');

      $container.isotope({
        itemSelector : '.recording'
      });


      var $optionSets = $('#options .option-set, #sidebar-options .option-set'),
          $optionLinks = $optionSets.find('a');

      $optionLinks.click(function(){
        var $this = $(this);
        // don't proceed if already selected
        if ( $this.hasClass('selected') ) {
          return false;
        }
        var $optionSet = $this.parents('.option-set');
        $optionSet.find('.selected').removeClass('selected');
        $this.addClass('selected');

        // make option object dynamically, i.e. { filter: '.my-filter-class' }
        var options = {},
            key = $optionSet.attr('data-option-key'),
            value = $this.attr('data-option-value');
        // parse 'false' as false boolean
        value = value === 'false' ? false : value;
        options[ key ] = value;
        if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
          // changes in layout modes need extra logic
          changeLayoutMode( $this, options )
        } else {
          // otherwise, apply new options
          $container.isotope( options );
        }

        return false;
      });

    });

    $( ".slider" ).slider({
      value: 0,
      min: 0,
      max: 40,
      step: 1,
        slide: function( event, ui ) {
          var slideVal = ui.value;
          $('.option-set li:eq('+ slideVal +') a').trigger('click');
        $('#slider-cont .option-set li').removeClass('show');
        $('#slider-cont .option-set li:eq('+slideVal+')').addClass('show');
      }
    });

$(".fancybox")
    .fancybox({
        padding : 0
    });

</script>

<?php require_once($_SERVER['DOCUMENT_ROOT'].'/_assets/inc/footer.php'); // footer, close body and html?>